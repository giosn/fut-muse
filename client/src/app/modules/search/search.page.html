<div class="main-container">

    <mat-spinner
        *ngIf="isLoading"
        value="indeterminate">
    </mat-spinner>
    
    <mat-card [hidden]="isLoading || table.data.data.length === 0">
        <mat-progress-bar
            *ngIf="table.isLoading"
            mode="indeterminate"
            color="primary">
        </mat-progress-bar>
        <div
            *ngIf="table.isLoading"
            class="blur-panel">
        </div>

        <table mat-table [dataSource]="table.data">
            <tr mat-header-row *matHeaderRowDef="table.columns"></tr>
            <tr
                mat-row
                *matRowDef="let hit; columns: table.columns;"
                routerLink="/player/{{hit.tmId}}">
            </tr>
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let hit">{{hit.name}}</td>
            </ng-container>
            <ng-container matColumnDef="nation">
                <th mat-header-cell *matHeaderCellDef>Nation</th>
                <td mat-cell *matCellDef="let hit">{{hit.mainNationality || 'Unknown'}}</td>
            </ng-container>
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let hit">{{hit.status}}</td>
            </ng-container>
            <ng-container matColumnDef="club">
                <th mat-header-cell *matHeaderCellDef>Club</th>
                <td mat-cell *matCellDef="let hit">{{hit.club || 'NA'}}</td>
            </ng-container>
        </table>
        
        <mat-paginator
            [length]="totalHits"
            pageSize="10"
            showFirstLastButtons
            hidePageSize>
        </mat-paginator>
    </mat-card>

</div>