<div class="main-container">

    <div class="search">
        <mat-form-field appearance="fill">
            <mat-label>Search player</mat-label>
            <input
                matInput
                [formControl]="playerName"
                [matAutocomplete]="autoComplete"/>
                <mat-autocomplete
                    #autoComplete="matAutocomplete"
                    autoActiveFirstOption>
                    <mat-option
                        *ngIf="isSearching && playerName.value.length > 0"
                        disabled>
                        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                    </mat-option>
                    <div *ngIf="(hits$ | async) as hits">
                        <mat-option
                            *ngIf="!isSearching && playerName.value.length >= 3 && hits.length === 0"
                            disabled>
                            No players found
                        </mat-option>
                        <div *ngIf="!isSearching && playerName.value.length > 3">
                            <a
                                *ngFor="let hit of hits"
                                routerLink="player/{{hit.tmId}}">
                                <mat-option [value]="playerName.value">
                                    {{hit.name}}
                                </mat-option>
                            </a>
                        </div>
                    </div>
                </mat-autocomplete>
        </mat-form-field>
    </div>
    
</div>